import{b as w,c as x,f as j,h as N,i as T,j as W,m as L,n as U}from"./chunk-52JYUFQG.js";import{a as d}from"./chunk-XG65L4A7.js";import{A as l,B as m,E as I,G as C,I as i,J as r,M as y,N as R,Q as a,R as E,T as u,U as v,V as h,X as _,f as c,fa as M,i as f,ia as b,ja as q,l as g,o as S,ta as k,va as D}from"./chunk-M3KYB34F.js";import"./chunk-TMC7WMLO.js";var $={headers:new b({"Content-Type":"application/json"})},A=(()=>{class t{static{this.reservation="reservation/"}constructor(e){this.http=e}makeReservation(e,o,n,p){return this.http.post(`${d.apiURL}${t.reservation}${e}`,{user_id:o,reservation_date:n,equipment_state:p}).pipe()}postReservationById(e){return this.http.post(`${d.apiURL}${t.reservation}${e}`,$).pipe(c())}putReservationById(e){return this.http.put(`${d.apiURL}${t.reservation}${e}`,$).pipe(c())}static{this.\u0275fac=function(o){return new(o||t)(g(q))}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function O(t,H){if(t&1&&(i(0,"p",15),a(1),r()),t&2){let e=R();l(),E(e.message)}}var Z=(()=>{class t{constructor(e,o,n,p){this.route=e,this.reservationService=o,this.router=n,this.cookieService=p,this.equipmentId=null,this.userId="",this.reservationDate="",this.equipmentState="",this.message=""}ngOnInit(){this.equipmentId=this.route.snapshot.paramMap.get("id"),this.userId=this.cookieService.get("userId")}ngAfterViewInit(){}makeReservation(){if(!this.equipmentId||!this.equipmentState||!this.reservationDate){this.message="Please select the state of the equipment and reservation date.";return}this.reservationService.makeReservation(this.equipmentId,this.userId,this.reservationDate,this.equipmentState).subscribe(e=>{this.message="Reservation successful!",this.router.navigate(["/reservations"])},e=>{this.message="Error making reservation",console.error(e)})}static{this.\u0275fac=function(o){return new(o||t)(m(k),m(A),m(D),m(U))}}static{this.\u0275cmp=S({type:t,selectors:[["app-reservation"]],standalone:!0,features:[_],decls:25,vars:3,consts:[[1,"container","mt-5"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],[1,"form-group"],["for","state"],["id","state",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","Neuf"],["value","Us\xE9e"],["value","Cass\xE9e"],["for","reservationDate"],["type","text","id","reservationDate","placeholder","Select reservation date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block","mt-3",3,"click"],[1,"alert","alert-info"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),a(4,"Reserve Equipment"),r()(),i(5,"div",3),I(6,O,2,1,"p",4),i(7,"div",5)(8,"label",6),a(9,"Equipment State at Reservation:"),r(),i(10,"select",7),h("ngModelChange",function(s){return v(n.equipmentState,s)||(n.equipmentState=s),s}),i(11,"option",8),a(12,"Select state"),r(),i(13,"option",9),a(14,"Neuf"),r(),i(15,"option",10),a(16,"Us\xE9e"),r(),i(17,"option",11),a(18,"Cass\xE9e"),r()()(),i(19,"div",5)(20,"label",12),a(21,"Reservation Date:"),r(),i(22,"input",13),h("ngModelChange",function(s){return v(n.reservationDate,s)||(n.reservationDate=s),s}),r()(),i(23,"button",14),y("click",function(){return n.makeReservation()}),a(24,"Reserve"),r()()()()),o&2&&(l(6),C("ngIf",n.message),l(4),u("ngModel",n.equipmentState),l(12),u("ngModel",n.reservationDate))},dependencies:[M,L,T,W,w,N,x,j]})}}return t})();export{Z as default};
